// âœ… í…ŒìŠ¤íŠ¸í•  ìì†Œì„œ ë°ì´í„°
const answer1 = "[íŠ¸ë Œë“œë¥¼ ë°˜ì˜í•œ ì•„ì´ë””ì–´ë¡œ ë§Œë“  ë¶„ì„ì  ì‚¬ê³ ]í˜„ì¬ ì „ ì„¸ê³„ì ìœ¼ë¡œ ì¹œí™˜ê²½ ì œí’ˆ ì†Œë¹„ë¥¼ ì¶”êµ¬í•˜ëŠ” ì†Œë¹„ìê°€ ì¦ê°€í•˜ê³  ìˆìœ¼ë©°, ESG ìˆ˜ì¶œ ì¥ë²½ì´ ê°•í™”ë˜ëŠ” ì¶”ì„¸ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì¤‘ì†Œê¸°ì—…ì€ ESG ê²½ì˜ ì „í™˜ì— ì• ë¡œì‚¬í•­ì´ ìˆë‹¤ëŠ” ë³´ê³ ì„œë¥¼ ì½ì—ˆê³ , ì €ëŠ” ì¤‘ì†Œë²¤ì²˜ê¸°ì—…ì˜ ê¸€ë¡œë²Œ ê²½ìŸë ¥ ê°•í™”ì— ë„ì›€ì´ ë˜ê³ ì ì •ì±… ì•„ì´ë””ì–´ ê³µëª¨ì „ì— ì¶œì „í–ˆìŠµë‹ˆë‹¤.ì¤‘ì†Œê¸°ì—…ì´ ESG ê²½ì˜ì— ìˆì–´ ê°€ì¥ í•„ìš”í•˜ì§€ë§Œ ì–´ë ¤ìš´ ì ì´ â€˜ì¹œí™˜ê²½ íŒ¨í‚¤ì§€â€™ë¼ëŠ” ê²ƒì„ íŒŒì•…í•´ â€˜ì¹œí™˜ê²½ íŒ¨í‚¤ì§€ ë°”ìš°ì²˜ ì§€ì›â€™ì˜ ì•„ì´ë””ì–´ë¥¼ êµ¬ìƒí–ˆìŠµë‹ˆë‹¤. ì œì¡° ì¤‘ì†Œê¸°ì—…ê³¼ ì¹œí™˜ê²½ íŒ¨í‚¤ì§€ ì¤‘ì†Œê¸°ì—…ì„ ì—°ê²°í•˜ì—¬ ìƒìƒí˜‘ë ¥ êµ¬ì¶• ì²´ê³„ë¥¼ ë§Œë“¤ê³ , í•´ì™¸ ì§„ì¶œì„ ë„ìš¸ ìˆ˜ ìˆëŠ” ì•„ì´ë””ì–´ë¥¼ ì œì‹œí–ˆìŠµë‹ˆë‹¤. ì•„ì´ë””ì–´ëŠ” êµ¬ì²´ì ì´ê³  ì‹¤ì²œ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤ëŠ” í”¼ë“œë°±ì„ ë°›ìœ¼ë©° ëŒ€ìƒì„ ìˆ˜ìƒí–ˆìŠµë‹ˆë‹¤.ì €ëŠ” ë‹ˆì¦ˆ íŒŒì•…ë¶€í„° ê°œì„  ë°©ì•ˆ ê¸°íšê¹Œì§€ì˜ ê³¼ì •ì—ì„œ â€˜ë¶„ì„ì  ì‚¬ê³ â€™ë¼ëŠ” ì§ë¬´ ì—­ëŸ‰ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì•ìœ¼ë¡œë„ ì°½ì˜ì„±ì„ ë°”íƒ•ìœ¼ë¡œ ê°œì„  ë°©ì•ˆì„ ì œì‹œí•˜ê³ , ê¸°ì—…ê³¼ êµ­ë¯¼ì˜ í–‰ë³µì„ ë”í•˜ëŠ” ì§ì›ì´ ë˜ê² ìŠµë‹ˆë‹¤.";

// âœ… ì¸ë±ìŠ¤ ì¡°ì • í•¨ìˆ˜ (ìˆ˜ì •ë¨)
function adjustIndices(text, startIdx, endIdx) {
    // Start index ì¡°ì •
    if (startIdx > 0) {
        let leftIdx = startIdx;

        // ì™¼ìª½ ë°©í–¥ìœ¼ë¡œ ì´ë™í•˜ë©° ê³µë°±, ê°œí–‰, ë¬¸ì¥ ë¶€í˜¸ ì „ê¹Œì§€ ì¡°ì •
        while (leftIdx > 0) {
            const char = text[leftIdx - 1];
            if (char === ' ' || char === '\n' || char === '.' || char === ',' || char === 'â€™' || char === 'â€˜') {
                break;
            }
            leftIdx--;
        }
        startIdx = leftIdx;  // ì¡°ì •ëœ ì‹œì‘ ì¸ë±ìŠ¤ ì ìš©
    }

    // End index ì¡°ì •: ê³µë°±(' ')ì´ë‚˜ ê°œí–‰('\n')ì„ ë§Œë‚  ë•Œê¹Œì§€ í™•ì¥, ë‹¨ ë§¨ ë ê¸€ìëŠ” ì´ˆê³¼í•˜ì§€ ì•ŠìŒ
    while (endIdx < text.length - 1 && text[endIdx + 1] !== ' ' && text[endIdx + 1] !== '\n') {
        endIdx++;
    }

    return { start_index: startIdx, end_index: endIdx };
}

// âœ… í…ŒìŠ¤íŠ¸í•  ì¸ë±ìŠ¤
const originalStartIndex = 317;  // ì›ë˜ ì‹œì‘ì  (ì˜ëª»ëœ ìœ„ì¹˜)
const originalEndIndex = 384;    // ì›ë˜ ëì 

// âœ… ì¸ë±ìŠ¤ ì¡°ì • ì‹¤í–‰
const adjustedClue = adjustIndices(answer1, originalStartIndex, originalEndIndex);

// âœ… ì¡°ì •ëœ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸ ì¶”ì¶œ
const extractedText = answer1.slice(adjustedClue.start_index, adjustedClue.end_index + 1);

console.log("ğŸ“Œ ì¡°ì •ëœ start_index:", adjustedClue.start_index);
console.log("ğŸ“Œ ì¡°ì •ëœ end_index:", adjustedClue.end_index);
console.log("ğŸ“Œ ì¶”ì¶œëœ ê·¼ê±° í…ìŠ¤íŠ¸:", extractedText);
