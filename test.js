// âœ… í…ŒìŠ¤íŠ¸í•  ìì†Œì„œ ë°ì´í„°
const answer1 = "ê³µì‚¬ ì¸ì¬ìƒ ì¤‘ ì—…ë¬´ì— í•„ìš”í•œ ì „ë¬¸ ê¸°ìˆ ì´ ë¶€ì¡±í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.ì¸í„´ ë‹¹ì‹œ ë§¤ë‹¬ 100ëª…ì˜ ì„œí¬í„°ì¦ˆê°€ ë§Œë“  ê³¼ì œë¬¼ì„ í•˜ë‚˜ì˜ PDF íŒŒì¼ì— ì·¨í•©í•˜ì—¬ ë³´ê³ ì„œ í˜•ì‹ìœ¼ë¡œ ì œì¶œí•˜ëŠ” ì—…ë¬´ë¥¼ ë§¡ì•˜ìŠµë‹ˆë‹¤. ì²˜ìŒì—ëŠ” PDFì·¨í•© ë°©ë²•ì„ ëª°ëê¸°ì— ì¼ì¼ì´ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ ë„£ìœ¼ë©° í•´ë‹¹ ì—…ë¬´ì— ì‹œê°„ì„ ë§ì´ ë“¤ì˜€ìŠµë‹ˆë‹¤. ì´í›„ ì‹¤ë¬´ì—ì„œ í™œìš©ë„ ë†’ì€ ë‹¨ì¶•í‚¤ì™€ OAê¸°ëŠ¥ ê´€ë ¨ ê°•ì˜ë¥¼ ìˆ˜ê°•í•˜ê³ , ì¶œí‡´ê·¼ ì‹œê°„ì— 20ë¶„ì”© ë³µìŠµí•˜ë©° ì•”ê¸°í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì—…ë¬´ ì‹œê°„ì„ 50% ì¤„ì˜€ê³ , ë‹¤ë¥¸ ì—…ë¬´ì˜ íš¨ìœ¨ì„ ë†’ì¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. í•œêµ­ë†ìˆ˜ì‚°ì‹í’ˆìœ í†µê³µì‚¬ì— ì…ì‚¬í•œ í›„, ë¶€ì„œì˜ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ë¬¸ì„œ ì‘ì„± ë° ë†ìˆ˜ì‚°ì‹í’ˆì˜ ì •ë³´ ê´€ë¦¬ë¥¼ ìœ„í•œ OAê¸°ìˆ ì´ í•„ìˆ˜ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ê°•ì˜ ìˆ˜ê°•ë¿ë§Œ ì•„ë‹ˆë¼ ì§ì ‘ í•´ë‹¹ ê¸°ìˆ ì„ ë¯¸ë¦¬ ì ìš©í•´ ë´„ìœ¼ë¡œì¨ ë§¡ì€ ì—…ë¬´ì— ì–´ë–¤ ê¸°ìˆ ì´ í•„ìš”í•œì§€ ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆë„ë¡ ìˆ™ì§€í•˜ê³  ì—°ìŠµí•˜ê² ìŠµë‹ˆë‹¤. OAê¸°ìˆ  í™œìš©ë„ë¥¼ ë†’ì—¬ ë†ìˆ˜ì‚°ì‹í’ˆì˜ ê°€ì¹˜ë¥¼ ë†’ì¼ ìˆ˜ ìˆëŠ” ì‚¬ì—…ì„ ê¸°íší•˜ê³  ìš´ì˜í•˜ëŠ” ë° ì´ë°”ì§€í•˜ê² ìŠµë‹ˆë‹¤.";

// âœ… ì¸ë±ìŠ¤ ì¡°ì • í•¨ìˆ˜ (ìˆ˜ì •ë¨)
function adjustIndices(text, startIdx, endIdx) {
    // Start index ì¡°ì •
    if (startIdx > 0) {
        let leftIdx = startIdx;

        // ì™¼ìª½ ë°©í–¥ìœ¼ë¡œ ì´ë™í•˜ë©° ê³µë°±, ê°œí–‰, ë¬¸ì¥ ë¶€í˜¸ ì „ê¹Œì§€ ì¡°ì •
        while (leftIdx > 0) {
            const char = text[leftIdx - 1];
            if (char === ' ' || char === '\n' || char === '.' || char === ',' || char === 'â€™' || char === 'â€˜') {
                break;
            }
            leftIdx--;
        }
        startIdx = leftIdx;  // ì¡°ì •ëœ ì‹œì‘ ì¸ë±ìŠ¤ ì ìš©
    }

    // End index ì¡°ì •: ê³µë°±(' ')ì´ë‚˜ ê°œí–‰('\n')ì„ ë§Œë‚  ë•Œê¹Œì§€ í™•ì¥, ë‹¨ ë§¨ ë ê¸€ìëŠ” ì´ˆê³¼í•˜ì§€ ì•ŠìŒ
    while (endIdx < text.length - 1 && text[endIdx + 1] !== ' ' && text[endIdx + 1] !== '\n') {
        endIdx++;
    }

    return { start_index: startIdx, end_index: endIdx };
}

// âœ… í…ŒìŠ¤íŠ¸í•  ì¸ë±ìŠ¤
const originalStartIndex = 547;  // ì›ë˜ ì‹œì‘ì  (ì˜ëª»ëœ ìœ„ì¹˜)
const originalEndIndex = 615;    // ì›ë˜ ëì 

// âœ… ì¸ë±ìŠ¤ ì¡°ì • ì‹¤í–‰
const adjustedClue = adjustIndices(answer1, originalStartIndex, originalEndIndex);

// âœ… ì¡°ì •ëœ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸ ì¶”ì¶œ
const extractedText = answer1.slice(adjustedClue.start_index, adjustedClue.end_index + 1);

console.log("ğŸ“Œ ì¡°ì •ëœ start_index:", adjustedClue.start_index);
console.log("ğŸ“Œ ì¡°ì •ëœ end_index:", adjustedClue.end_index);
console.log("ğŸ“Œ ì¶”ì¶œëœ ê·¼ê±° í…ìŠ¤íŠ¸:", extractedText);
